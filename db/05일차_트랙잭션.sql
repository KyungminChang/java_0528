USE PRODUCT;

# 트랜잭션을 시작 : COMMIT할 때 까지 최종 적용이 안됨.
START TRANSACTION;

UPDATE PRODUCT
SET 
	PR_PRICE =1200000
WHERE 
	PR_CODE = 'AB1';
SELECT * FROM PRODUCT;

SAVEPOINT A1;

UPDATE PRODUCT
SET 
	PR_PRICE = 2200000
WHERE 
	PR_CODE = 'AB1';
    
SAVEPOINT A2;

UPDATE PRODUCT
SET 
	PR_PRICE = 3200000
WHERE 
	PR_CODE = 'AB1';
    
SAVEPOINT A3;

ROLLBACK TO A1;
SELECT * FROM PRODUCT;

COMMIT;

SELECT * FROM PRODUCT;